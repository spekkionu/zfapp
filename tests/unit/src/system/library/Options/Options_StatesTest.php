<?php

/**
 * Test class for Options_States.
 * Generated by PHPUnit on 2012-06-02 at 12:15:20.
 */
class Options_StatesTest extends PHPUnit_Framework_TestCase
{

  /**
   * Sets up the fixture, for example, opens a network connection.
   * This method is called before a test is executed.
   */
  protected function setUp() {
    Options_States::setXML();
  }

  /**
   * Tears down the fixture, for example, closes a network connection.
   * This method is called after a test is executed.
   */
  protected function tearDown() {
    Options_States::setXML();
  }

  /**
   * tests Options_States::setXML
   */
  public function testSetXML() {
    $file = TEST_DATA . '/states.xml';
    $states = Options_States::getArray();
    $this->assertArrayHasKey('TX', $states);
    Options_States::setXML($file);
    $states = Options_States::getArray();
    $this->assertArrayNotHasKey('TX', $states);
  }

  /**
   * tests Options_States::clearCache
   */
  public function testClearCache() {
    Options_States::getPairs();
    $is_cached = Options_States::isCached();
    $this->assertTrue($is_cached);
    Options_States::clearCache();
    $is_cached = Options_States::isCached();
    $this->assertFalse($is_cached);
  }

  /**
   * tests Options_States::isCached
   */
  public function testIsCached() {
    $is_cached = Options_States::isCached();
    $this->assertFalse($is_cached);
    Options_States::getPairs();
    $is_cached = Options_States::isCached();
    $this->assertTrue($is_cached);
  }

  /**
   * tests Options_States::getArray
   */
  public function testGetArray() {
   $states = Options_States::getArray();
    $this->assertInternalType('array', $states);
    $this->assertArrayHasKey('CA', $states);
  }

  /**
   * tests Options_States::getPairs
   */
  public function testGetPairs() {
    $states = Options_States::getPairs();
    $this->assertInternalType('array', $states);
    $this->assertArrayHasKey('CA', $states);
    $this->assertEquals('California', $states['CA']);
  }

  /**
   * tests Options_States::getState
   */
  public function testGetState() {
    $state = Options_States::getState('CA');
    $this->assertEquals('California', $state);
  }

}


